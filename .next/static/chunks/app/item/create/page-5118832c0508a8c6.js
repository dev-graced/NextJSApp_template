(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[851],{5871:function(e,t,a){Promise.resolve().then(a.bind(a,1501))},1501:function(e,t,a){"use strict";a.r(t);var n=a(7437),r=a(2265),o=a(6463),i=a(7796);a(4643),t.default=()=>{let[e,t]=(0,r.useState)(""),[a,l]=(0,r.useState)(""),[s,u]=(0,r.useState)(""),[c,p]=(0,r.useState)(""),h=(0,o.useRouter)(),d=(0,i.Z)();console.log(d);let g=async t=>{t.preventDefault();try{let t=await fetch("".concat("https://pt-info-app.vercel.app","/api/item/create"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({title:e,image:s,price:a,description:c,email:d})}),n=await t.json();alert(n.message),h.push("/"),h.refresh()}catch(e){console.log("アイテム作成が失敗しました")}};if(d)return(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"page-title",children:"アイテム作成"}),(0,n.jsxs)("form",{onSubmit:g,children:[(0,n.jsx)("input",{value:e,onChange:e=>t(e.target.value),type:"text",name:"title",placeholder:"アイテム名",required:!0}),(0,n.jsx)("input",{value:a,onChange:e=>l(e.target.value),type:"text",name:"price",placeholder:"価格",required:!0}),(0,n.jsx)("input",{value:s,onChange:e=>u(e.target.value),type:"text",name:"image",placeholder:"画像",required:!0}),(0,n.jsx)("textarea",{value:c,onChange:e=>p(e.target.value),name:"description",placeholder:"商品説明",required:!0}),(0,n.jsx)("button",{children:"作成"})]})]})}},7796:function(e,t,a){"use strict";var n=a(808),r=a(6463),o=a(2265);t.Z=()=>{let[e,t]=(0,o.useState)(""),a=(0,r.useRouter)();return(0,o.useEffect)(()=>{(async()=>{let e=localStorage.getItem("token");e||a.push("/user/login");try{let a=new TextEncoder().encode("ptInfoApp-book"),r=await (0,n._)(e,a);t(r.payload.email)}catch(e){a.push("/user/login")}})()},[a]),e}}},function(e){e.O(0,[146,643,971,23,744],function(){return e(e.s=5871)}),_N_E=e.O()}]);