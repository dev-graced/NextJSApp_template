"use strict";(()=>{var e={};e.id=287,e.ids=[287],e.modules={1185:e=>{e.exports=require("mongoose")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3596:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>x,patchFetch:()=>h,requestAsyncStorage:()=>c,routeModule:()=>m,serverHooks:()=>g,staticGenerationAsyncStorage:()=>l});var a={};r.r(a),r.d(a,{PUT:()=>u});var i=r(9303),n=r(8716),o=r(3131),s=r(7070),p=r(5263),d=r(6477);async function u(e,t){let r=await e.json();try{if(await (0,p.Z)(),(await d.z.findById(t.params.id)).email===r.email)return await d.z.updateOne({_id:t.params.id},r),s.NextResponse.json({message:"アイテム編集成功"});return s.NextResponse.json({message:"他の人が編集したアイテムです"})}catch{return s.NextResponse.json({message:"アイテム編集失敗"})}}let m=new i.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/item/update/[id]/route",pathname:"/api/item/update/[id]",filename:"route",bundlePath:"app/api/item/update/[id]/route"},resolvedPagePath:"/workspaces/ptInfoApp/app/api/item/update/[id]/route.js",nextConfigOutput:"",userland:a}),{requestAsyncStorage:c,staticGenerationAsyncStorage:l,serverHooks:g}=m,x="/api/item/update/[id]/route";function h(){return(0,o.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:l})}},5263:(e,t,r)=>{r.d(t,{Z:()=>n});var a=r(1185),i=r.n(a);let n=async()=>{try{await i().connect("mongodb+srv://gracehomondev:EAOXLtaR2hq2Jswx@cluster0.luikv.mongodb.net/nextAppDataBase?retryWrites=true&w=majority&appName=Cluster0"),console.log("Success: Connected to MongoDB")}catch{throw console.log("Failure: Unconnected to MongoDB"),Error()}}},6477:(e,t,r)=>{r.d(t,{T:()=>d,z:()=>p});var a=r(1185),i=r.n(a);let n=i().Schema,o=new n({title:String,image:String,price:String,description:String,email:String}),s=new n({name:{type:String,required:!0},email:{type:String,required:!0,unique:!0},password:{type:String,required:!0}}),p=i().models.Item||i().model("Item",o),d=i().models.User||i().model("User",s)}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[948,972],()=>r(3596));module.exports=a})();